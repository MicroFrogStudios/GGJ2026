[gd_scene format=4 uid="uid://vakyfysbi8es"]

[ext_resource type="PackedScene" uid="uid://dm6qoe57l87ub" path="res://scenes/prefabs/player.tscn" id="1_7d7pp"]
[ext_resource type="PackedScene" uid="uid://bn46343xobuti" path="res://scenes/prefabs/exitdoor.tscn" id="2_e5nfq"]
[ext_resource type="PackedScene" uid="uid://v0bxw5r7bav0" path="res://scenes/prefabs/CameraFollow.tscn" id="3_lha2r"]
[ext_resource type="Shader" uid="uid://g2kx26x1mj7r" path="res://shaders/spotlight.gdshader" id="4_6owa4"]
[ext_resource type="Script" uid="uid://b7qtr6cokots2" path="res://scripts/death_spotlight.gd" id="5_n5pya"]
[ext_resource type="PackedScene" uid="uid://4aghjpy7mbvk" path="res://scenes/game_ui.tscn" id="6_kypp1"]
[ext_resource type="Script" uid="uid://dvmkjcuu4vlvu" path="res://scripts/multimaskedtilemap.gd" id="7_ukjja"]
[ext_resource type="TileSet" uid="uid://0ri8qrel1dpj" path="res://resources/tilesets/testtileset.tres" id="8_7d7pp"]
[ext_resource type="Script" uid="uid://cqfbx47wt6d28" path="res://scripts/masked_layer.gd" id="9_njy47"]
[ext_resource type="PackedScene" uid="uid://dw8udwgqo5y5a" path="res://scenes/prefabs/MaskPickupArlecchino.tscn" id="10_e5nfq"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_5a7mx"]
shader = ExtResource("4_6owa4")
shader_parameter/center = Vector2(0.5, 0.5)
shader_parameter/radius = 2.0

[sub_resource type="Animation" id="Animation_xornt"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:material:shader_parameter/radius")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [2.0]
}

[sub_resource type="Animation" id="Animation_ggudt"]
resource_name = "spotlight"
length = 1.1666666
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:material:shader_parameter/radius")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.93333334, 1.2, 1.5333333),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [2.0, -0.1, -0.1, 2.0]
}
tracks/1/type = "method"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("../../../PlayerCharacter")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(1.1666666),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"spawn"
}]
}

[sub_resource type="Animation" id="Animation_nendb"]
resource_name = "spotlight_exit"
length = 1.1666666
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:material:shader_parameter/radius")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.93333334),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [2.0, -0.1]
}
tracks/1/type = "method"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("../../../ExitDoor")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(1.0333333),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"go_to_next_level"
}]
}

[sub_resource type="Animation" id="Animation_12kvg"]
resource_name = "spotlight_spawn"
length = 0.33333334
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:material:shader_parameter/radius")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.33333325),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [-0.1, 2.0]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_nendb"]
_data = {
&"RESET": SubResource("Animation_xornt"),
&"spotlight_death": SubResource("Animation_ggudt"),
&"spotlight_exit": SubResource("Animation_nendb"),
&"spotlight_spawn": SubResource("Animation_12kvg")
}

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_6v23s"]
distance = -192.0

[node name="Level1" type="Node2D" unique_id=1082980837]

[node name="MultiMaskedTileMap" type="Node2D" parent="." unique_id=1324488287 node_paths=PackedStringArray("player")]
script = ExtResource("7_ukjja")
player = NodePath("../PlayerCharacter")

[node name="MaskedTileMapLayer" type="TileMapLayer" parent="MultiMaskedTileMap" unique_id=969876495]
tile_map_data = PackedByteArray("AAD3/wIAAgAAAAAAAAD4/wIAAgAAAAAAAAD5/wIAAgAAAAAAAAD6/wIAAgAAAAAAAAD7/wIAAgAAAAAAAAD8/wIAAgAAAAAAAAD9/wIAAgAAAAAAAAD+/wIAAgAAAAAAAAD//wIAAgAAAAAAAAABAAIAAgAAAAIAAAAFAAIAAgAAAAIAAAAIAAIAAgAAAAIAAAALAAIAAgAAAAIAAAAAAAEAAgAAAAAAAAABAAEAAgAAAAAAAAACAAEAAgAAAAAAAAAFAAEAAgAAAAIAAAD9/wMAAgAAAAIAAAD9/wQAAgAAAAIAAAD9/wUAAgAAAAIAAAD9/wYAAgAAAAIAAAD9/wcAAgAAAAIAAAD9/wgAAgAAAAIAAAD9/wkAAgAAAAIAAAD9/woAAgAAAAIAAAD9/wsAAgAAAAIAAAD9/wwAAgAAAAIAAAABAAMAAgAAAAIAAAABAAQAAgAAAAIAAAABAAUAAgAAAAIAAAABAAYAAgAAAAIAAAABAAcAAgAAAAIAAAABAAgAAgAAAAIAAAABAAkAAgAAAAIAAAABAAoAAgAAAAIAAAABAAsAAgAAAAIAAAABAAwAAgAAAAIAAAAFAAMAAgAAAAIAAAAFAAQAAgAAAAIAAAAFAAUAAgAAAAIAAAAFAAYAAgAAAAIAAAAFAAcAAgAAAAIAAAAFAAgAAgAAAAIAAAAFAAkAAgAAAAIAAAAFAAoAAgAAAAIAAAAFAAsAAgAAAAIAAAAFAAwAAgAAAAIAAAAIAAMAAgAAAAIAAAAIAAQAAgAAAAIAAAAIAAUAAgAAAAIAAAAIAAYAAgAAAAIAAAAIAAcAAgAAAAIAAAAIAAgAAgAAAAIAAAAIAAkAAgAAAAIAAAAIAAoAAgAAAAIAAAAIAAsAAgAAAAIAAAAIAAwAAgAAAAIAAAALAAMAAgAAAAIAAAALAAQAAgAAAAIAAAALAAUAAgAAAAIAAAALAAYAAgAAAAIAAAALAAcAAgAAAAIAAAALAAgAAgAAAAIAAAALAAkAAgAAAAIAAAALAAoAAgAAAAIAAAALAAsAAgAAAAIAAAALAAwAAgAAAAIAAADy/wIAAgAAAAAAAADy/wwAAAAAAAEAAADz/wIAAgAAAAAAAADz/wwAAAAAAAEAAAD0/wIAAgAAAAAAAAD0/wMAAgAAAAIAAAD0/wQAAgAAAAIAAAD0/wUAAgAAAAIAAAD0/wYAAgAAAAIAAAD0/wcAAgAAAAIAAAD0/wgAAgAAAAIAAAD0/wkAAgAAAAIAAAD0/woAAgAAAAIAAAD0/wsAAgAAAAIAAAD0/wwAAgAAAAIAAAD1/wIAAgAAAAAAAAD2/wIAAgAAAAAAAAAFAAAAAgAAAAIAAAAIAAAAAgAAAAIAAAAIAAEAAgAAAAIAAAAFAP//AgAAAAIAAAAIAP7/AgAAAAIAAAAIAP//AgAAAAIAAAALAP7/AgAAAAIAAAALAP//AgAAAAIAAAALAAAAAgAAAAIAAAALAAEAAgAAAAIAAAAIAPv/AgAAAAIAAAAIAPz/AgAAAAIAAAAIAP3/AgAAAAIAAAALAPv/AgAAAAIAAAALAPz/AgAAAAIAAAALAP3/AgAAAAIAAAAKAPn/AgAAAAAAAAALAPn/AgAAAAAAAAALAPr/AgAAAAIAAAAMAPn/AgAAAAAAAAANAPn/AgAAAAAAAAAQAPn/AgAAAAAAAAARAPn/AgAAAAAAAAASAPn/AgAAAAAAAAATAPn/AgAAAAAAAAAUAPn/AgAAAAAAAAAaAP7/AgAAAAAAAAAbAP7/AgAAAAAAAAAcAP7/AgAAAAAAAAAdAP7/AgAAAAAAAAAeAP7/AgAAAAAAAAAXAP3/AgAAAAAAAAAYAP3/AgAAAAAAAAAVAP3/AgAAAAAAAAAWAP3/AgAAAAAAAAADAP7/AgAAAAAAAAAEAP7/AgAAAAAAAAAFAP7/AgAAAAAAAAAGAP7/AgAAAAAAAAAHAPr/AgAAAAAAAAAIAPr/AgAAAAAAAAAJAPr/AgAAAAAAAAAfAP//AgAAAAAAAAAgAP//AgAAAAAAAAAhAP//AgAAAAAAAAAiAP//AgAAAAAAAAAjAP//AgAAAAAAAAAkAP7/AgAAAAAAAAAlAP7/AgAAAAAAAAAZAP3/AgAAAAAAAADx/wIAAgABAAIAAADw//D/AgABAAIAAADw//H/AgABAAIAAADw//L/AgABAAIAAADw//P/AgABAAIAAADw//T/AgABAAIAAADw//X/AgABAAIAAADw//b/AgABAAIAAADw//f/AgABAAIAAADw//j/AgABAAIAAADw//n/AgABAAIAAADw//r/AgABAAIAAADw//v/AgABAAIAAADw//z/AgABAAIAAADw//3/AgABAAIAAADw//7/AgABAAIAAADw////AgABAAIAAADw/wAAAgABAAIAAADw/wEAAgABAAIAAADw/wIAAgABAAIAAAD0/w0AAgAAAAIAAAD9/w0AAgAAAAIAAAABAA0AAgAAAAIAAAAFAA0AAgAAAAIAAAAFAA4AAgAAAAIAAAAIAA0AAgAAAAIAAAAIAA4AAgAAAAIAAAALAA0AAgAAAAIAAAALAA4AAgAAAAIAAAALAA8AAgAAAAIAAAALABAAAgAAAAIAAAA=")
tile_set = ExtResource("8_7d7pp")
script = ExtResource("9_njy47")

[node name="MaskedTileMapLayer2" type="TileMapLayer" parent="MultiMaskedTileMap" unique_id=1627168618]
tile_map_data = PackedByteArray("AAAvAP7/AgADAAMAAAAvAP//AgACAAMAAAAvAAAAAgADAAIAAAAvAAEAAgABAAIAAAAvAAIAAgADAAMAAAAvAAMAAgADAAMAAAAvAAQAAgADAAMAAAAvAAUAAgABAAMAAAAvAAYAAgACAAIAAAAvAAcAAgABAAMAAAAvAAgAAgABAAMAAAAvAAkAAgACAAIAAAAvAAoAAgABAAIAAAAvAAsAAgACAAIAAAAvAAwAAgABAAIAAAAvAA0AAgACAAIAAAAvAA4AAgABAAIAAAAvAA8AAgABAAIAAAAvABAAAgABAAMAAAAvABEAAgACAAIAAAAvABIAAgADAAMAAAAvABMAAgABAAMAAAAwAP7/AgABAAIAAAAwAP//AgACAAMAAAAwAAAAAgABAAIAAAAwAAEAAgACAAIAAAAwAAIAAgABAAIAAAAwAAMAAgABAAIAAAAwAAQAAgABAAIAAAAwAAUAAgACAAIAAAAwAAYAAgABAAIAAAAwAAcAAgADAAIAAAAwAAgAAgABAAIAAAAwAAkAAgADAAMAAAAwAAoAAgADAAMAAAAwAAsAAgADAAMAAAAwAAwAAgABAAMAAAAwAA0AAgABAAMAAAAwAA4AAgABAAIAAAAwAA8AAgABAAMAAAAwABAAAgABAAMAAAAwABEAAgADAAMAAAAwABIAAgACAAMAAAAwABMAAgADAAIAAAAxAP7/AgABAAIAAAAxAP//AgACAAIAAAAxAAAAAgABAAIAAAAxAAEAAgACAAMAAAAxAAIAAgACAAMAAAAxAAMAAgABAAIAAAAxAAQAAgABAAIAAAAxAAUAAgABAAIAAAAxAAYAAgADAAMAAAAxAAcAAgACAAIAAAAxAAgAAgACAAIAAAAxAAkAAgACAAMAAAAxAAoAAgACAAIAAAAxAAsAAgADAAIAAAAxAAwAAgABAAIAAAAxAA0AAgADAAIAAAAxAA4AAgACAAMAAAAxAA8AAgADAAMAAAAxABAAAgABAAIAAAAxABEAAgADAAIAAAAxABIAAgADAAIAAAAxABMAAgACAAMAAAAqAAEAAgABAAMAAAAqAAIAAgACAAIAAAAqAAMAAgACAAMAAAAqAAQAAgADAAMAAAAqAAUAAgABAAIAAAAqAAYAAgABAAMAAAAqAAcAAgADAAIAAAAqAAgAAgABAAMAAAAqAAkAAgABAAMAAAAqAAoAAgADAAMAAAAqAAsAAgACAAMAAAAqAAwAAgACAAIAAAAqAA0AAgACAAIAAAAqAA4AAgABAAMAAAAqAA8AAgACAAMAAAAqABAAAgABAAIAAAAqABEAAgABAAIAAAAqABIAAgABAAIAAAAqABMAAgABAAMAAAAqABQAAgACAAIAAAArAAEAAgABAAMAAAArAAIAAgABAAIAAAArAAMAAgADAAIAAAArAAQAAgADAAMAAAArAAUAAgADAAIAAAArAAYAAgABAAMAAAArAAcAAgABAAMAAAArAAgAAgADAAIAAAArAAkAAgACAAIAAAArAAoAAgABAAMAAAArAAsAAgABAAIAAAArAAwAAgACAAIAAAArAA0AAgABAAMAAAArAA4AAgADAAIAAAArAA8AAgACAAIAAAArABAAAgACAAMAAAArABEAAgABAAMAAAArABIAAgACAAMAAAArABMAAgADAAIAAAArABQAAgADAAMAAAAsAAEAAgADAAMAAAAsAAIAAgACAAMAAAAsAAMAAgACAAMAAAAsAAQAAgABAAIAAAAsAAUAAgABAAIAAAAsAAYAAgADAAMAAAAsAAcAAgABAAIAAAAsAAgAAgADAAIAAAAsAAkAAgACAAMAAAAsAAoAAgACAAMAAAAsAAsAAgACAAMAAAAsAAwAAgADAAIAAAAsAA0AAgABAAMAAAAsAA4AAgACAAMAAAAsAA8AAgABAAIAAAAsABAAAgADAAMAAAAsABEAAgADAAIAAAAsABIAAgABAAMAAAAsABMAAgACAAIAAAAsABQAAgABAAIAAAA2APz/AgADAAMAAAA2AP3/AgABAAIAAAA3APz/AgACAAIAAAA3AP3/AgACAAMAAAA4APz/AgABAAIAAAA4AP3/AgABAAMAAAA5APz/AgACAAIAAAA5AP3/AgACAAIAAAA6APz/AgADAAIAAAA6AP3/AgABAAMAAAA7APz/AgABAAMAAAA7AP3/AgABAAMAAAA8APz/AgACAAIAAAA8AP3/AgADAAIAAAA9APz/AgACAAIAAAA9AP3/AgACAAIAAAA+APz/AgACAAMAAAA+AP3/AgABAAMAAAA/APz/AgADAAIAAAA/AP3/AgACAAMAAABAAPz/AgABAAIAAABAAP3/AgACAAMAAABBAPz/AgADAAIAAABBAP3/AgACAAIAAABCAPz/AgABAAMAAABCAP3/AgACAAIAAABDAPz/AgACAAIAAABDAP3/AgADAAIAAABEAPz/AgADAAMAAABEAP3/AgABAAMAAABFAPz/AgADAAIAAABFAP3/AgADAAIAAABGAPz/AgADAAMAAABGAP3/AgADAAIAAABFAPP/AgACAAMAAABFAPT/AgABAAMAAABFAPX/AgACAAIAAABFAPb/AgADAAMAAABFAPf/AgADAAIAAABFAPj/AgABAAIAAABFAPn/AgADAAIAAABFAPr/AgACAAIAAABFAPv/AgACAAMAAABGAPP/AgABAAMAAABGAPT/AgABAAMAAABGAPX/AgACAAMAAABGAPb/AgABAAIAAABGAPf/AgACAAIAAABGAPj/AgACAAIAAABGAPn/AgACAAIAAABGAPr/AgACAAIAAABGAPv/AgACAAMAAABEAPL/AgADAAMAAABFAPL/AgABAAIAAABGAPL/AgABAAIAAABEAPH/AgABAAIAAABFAPH/AgABAAMAAABDAPH/AgACAAMAAABDAPD/AgACAAMAAABCAPD/AgABAAIAAABBAPD/AgACAAIAAABAAO//AgADAAMAAAA/AO//AgABAAMAAAA+AO7/AgADAAIAAAA+AO3/AgADAAMAAAA/AO7/AgABAAIAAABAAO7/AgABAAIAAABBAO//AgABAAIAAABCAO//AgACAAMAAABEAPD/AgADAAIAAAA9AO7/AgABAAIAAAA8AO//AgADAAMAAAA7AO//AgABAAMAAAA6APD/AgADAAIAAAA5APD/AgADAAMAAAA4APH/AgACAAMAAAA3APH/AgABAAIAAAA4APD/AgABAAIAAAA6AO//AgADAAIAAAA8AO7/AgABAAMAAAA9AO3/AgACAAMAAAA7AO7/AgADAAIAAAA5AO//AgACAAMAAAA3APD/AgADAAMAAAA=")
tile_set = ExtResource("8_7d7pp")
script = ExtResource("9_njy47")
mask_number = 1

[node name="MaskedTileMapLayer3" type="TileMapLayer" parent="MultiMaskedTileMap" unique_id=373908029]
tile_map_data = PackedByteArray("AAD3/wIAAgAAAAAAAAD4/wIAAgAAAAAAAAD5/wIAAgAAAAAAAAD6/wIAAgAAAAAAAAD7/wIAAgAAAAAAAAD8/wIAAgAAAAAAAAD9/wIAAgAAAAAAAAD+/wIAAgAAAAAAAAD//wIAAgAAAAAAAAABAAIAAgAAAAIAAAAFAAIAAgAAAAIAAAAIAAIAAgAAAAIAAAALAAIAAgAAAAIAAAAAAAEAAgAAAAAAAAABAAEAAgAAAAAAAAACAAEAAgAAAAAAAAAFAAEAAgAAAAIAAAD9/wMAAgAAAAIAAAD9/wQAAgAAAAIAAAD9/wUAAgAAAAIAAAD9/wYAAgAAAAIAAAD9/wcAAgAAAAIAAAD9/wgAAgAAAAIAAAD9/wkAAgAAAAIAAAD9/woAAgAAAAIAAAD9/wsAAgAAAAIAAAD9/wwAAgAAAAIAAAABAAMAAgAAAAIAAAABAAQAAgAAAAIAAAABAAUAAgAAAAIAAAABAAYAAgAAAAIAAAABAAcAAgAAAAIAAAABAAgAAgAAAAIAAAABAAkAAgAAAAIAAAABAAoAAgAAAAIAAAABAAsAAgAAAAIAAAABAAwAAgAAAAIAAAAFAAMAAgAAAAIAAAAFAAQAAgAAAAIAAAAFAAUAAgAAAAIAAAAFAAYAAgAAAAIAAAAFAAcAAgAAAAIAAAAFAAgAAgAAAAIAAAAFAAkAAgAAAAIAAAAFAAoAAgAAAAIAAAAFAAsAAgAAAAIAAAAFAAwAAgAAAAIAAAAIAAMAAgAAAAIAAAAIAAQAAgAAAAIAAAAIAAUAAgAAAAIAAAAIAAYAAgAAAAIAAAAIAAcAAgAAAAIAAAAIAAgAAgAAAAIAAAAIAAkAAgAAAAIAAAAIAAoAAgAAAAIAAAAIAAsAAgAAAAIAAAAIAAwAAgAAAAIAAAALAAMAAgAAAAIAAAALAAQAAgAAAAIAAAALAAUAAgAAAAIAAAALAAYAAgAAAAIAAAALAAcAAgAAAAIAAAALAAgAAgAAAAIAAAALAAkAAgAAAAIAAAALAAoAAgAAAAIAAAALAAsAAgAAAAIAAAALAAwAAgAAAAIAAADy/wIAAgAAAAAAAADy/wwAAAAAAAEAAADz/wIAAgAAAAAAAADz/wwAAAAAAAEAAAD0/wIAAgAAAAAAAAD0/wMAAgAAAAIAAAD0/wQAAgAAAAIAAAD0/wUAAgAAAAIAAAD0/wYAAgAAAAIAAAD0/wcAAgAAAAIAAAD0/wgAAgAAAAIAAAD0/wkAAgAAAAIAAAD0/woAAgAAAAIAAAD0/wsAAgAAAAIAAAD0/wwAAgAAAAIAAAD1/wIAAgAAAAAAAAD2/wIAAgAAAAAAAAAFAAAAAgAAAAIAAAAIAAAAAgAAAAIAAAAIAAEAAgAAAAIAAAAFAP//AgAAAAIAAAAIAP7/AgAAAAIAAAAIAP//AgAAAAIAAAALAP7/AgAAAAIAAAALAP//AgAAAAIAAAALAAAAAgAAAAIAAAALAAEAAgAAAAIAAAAIAPv/AgAAAAIAAAAIAPz/AgAAAAIAAAAIAP3/AgAAAAIAAAALAPv/AgAAAAIAAAALAPz/AgAAAAIAAAALAP3/AgAAAAIAAAAKAPn/AgAAAAAAAAALAPn/AgAAAAAAAAALAPr/AgAAAAIAAAAMAPn/AgAAAAAAAAANAPn/AgAAAAAAAAAQAPn/AgAAAAAAAAARAPn/AgAAAAAAAAASAPn/AgAAAAAAAAATAPn/AgAAAAAAAAAUAPn/AgAAAAAAAAAaAP7/AgAAAAAAAAAbAP7/AgAAAAAAAAAcAP7/AgAAAAAAAAAdAP7/AgAAAAAAAAAeAP7/AgAAAAAAAAAXAP3/AgAAAAAAAAAYAP3/AgAAAAAAAAAVAP3/AgAAAAAAAAAWAP3/AgAAAAAAAAADAP7/AgAAAAAAAAAEAP7/AgAAAAAAAAAFAP7/AgAAAAAAAAAGAP7/AgAAAAAAAAAHAPr/AgAAAAAAAAAIAPr/AgAAAAAAAAAJAPr/AgAAAAAAAAAfAP//AgAAAAAAAAAgAP//AgAAAAAAAAAhAP//AgAAAAAAAAAiAP//AgAAAAAAAAAjAP//AgAAAAAAAAAkAP7/AgAAAAAAAAAlAP7/AgAAAAAAAAAZAP3/AgAAAAAAAADx/wIAAgABAAIAAADw//D/AgABAAIAAADw//H/AgABAAIAAADw//L/AgABAAIAAADw//P/AgABAAIAAADw//T/AgABAAIAAADw//X/AgABAAIAAADw//b/AgABAAIAAADw//f/AgABAAIAAADw//j/AgABAAIAAADw//n/AgABAAIAAADw//r/AgABAAIAAADw//v/AgABAAIAAADw//z/AgABAAIAAADw//3/AgABAAIAAADw//7/AgABAAIAAADw////AgABAAIAAADw/wAAAgABAAIAAADw/wEAAgABAAIAAADw/wIAAgABAAIAAAD0/w0AAgAAAAIAAAD9/w0AAgAAAAIAAAABAA0AAgAAAAIAAAAFAA0AAgAAAAIAAAAFAA4AAgAAAAIAAAAIAA0AAgAAAAIAAAAIAA4AAgAAAAIAAAALAA0AAgAAAAIAAAALAA4AAgAAAAIAAAALAA8AAgAAAAIAAAALABAAAgAAAAIAAAA=")
tile_set = ExtResource("8_7d7pp")
script = ExtResource("9_njy47")

[node name="MaskedTileMapLayer4" type="TileMapLayer" parent="MultiMaskedTileMap" unique_id=401112309]
tile_map_data = PackedByteArray("AAAvAP7/AgADAAMAAAAvAP//AgACAAMAAAAvAAAAAgADAAIAAAAvAAEAAgABAAIAAAAvAAIAAgADAAMAAAAvAAMAAgADAAMAAAAvAAQAAgADAAMAAAAvAAUAAgABAAMAAAAvAAYAAgACAAIAAAAvAAcAAgABAAMAAAAvAAgAAgABAAMAAAAvAAkAAgACAAIAAAAvAAoAAgABAAIAAAAvAAsAAgACAAIAAAAvAAwAAgABAAIAAAAvAA0AAgACAAIAAAAvAA4AAgABAAIAAAAvAA8AAgABAAIAAAAvABAAAgABAAMAAAAvABEAAgACAAIAAAAvABIAAgADAAMAAAAvABMAAgABAAMAAAAwAP7/AgABAAIAAAAwAP//AgACAAMAAAAwAAAAAgABAAIAAAAwAAEAAgACAAIAAAAwAAIAAgABAAIAAAAwAAMAAgABAAIAAAAwAAQAAgABAAIAAAAwAAUAAgACAAIAAAAwAAYAAgABAAIAAAAwAAcAAgADAAIAAAAwAAgAAgABAAIAAAAwAAkAAgADAAMAAAAwAAoAAgADAAMAAAAwAAsAAgADAAMAAAAwAAwAAgABAAMAAAAwAA0AAgABAAMAAAAwAA4AAgABAAIAAAAwAA8AAgABAAMAAAAwABAAAgABAAMAAAAwABEAAgADAAMAAAAwABIAAgACAAMAAAAwABMAAgADAAIAAAAxAP7/AgABAAIAAAAxAP//AgACAAIAAAAxAAAAAgABAAIAAAAxAAEAAgACAAMAAAAxAAIAAgACAAMAAAAxAAMAAgABAAIAAAAxAAQAAgABAAIAAAAxAAUAAgABAAIAAAAxAAYAAgADAAMAAAAxAAcAAgACAAIAAAAxAAgAAgACAAIAAAAxAAkAAgACAAMAAAAxAAoAAgACAAIAAAAxAAsAAgADAAIAAAAxAAwAAgABAAIAAAAxAA0AAgADAAIAAAAxAA4AAgACAAMAAAAxAA8AAgADAAMAAAAxABAAAgABAAIAAAAxABEAAgADAAIAAAAxABIAAgADAAIAAAAxABMAAgACAAMAAAAqAAEAAgABAAMAAAAqAAIAAgACAAIAAAAqAAMAAgACAAMAAAAqAAQAAgADAAMAAAAqAAUAAgABAAIAAAAqAAYAAgABAAMAAAAqAAcAAgADAAIAAAAqAAgAAgABAAMAAAAqAAkAAgABAAMAAAAqAAoAAgADAAMAAAAqAAsAAgACAAMAAAAqAAwAAgACAAIAAAAqAA0AAgACAAIAAAAqAA4AAgABAAMAAAAqAA8AAgACAAMAAAAqABAAAgABAAIAAAAqABEAAgABAAIAAAAqABIAAgABAAIAAAAqABMAAgABAAMAAAAqABQAAgACAAIAAAArAAEAAgABAAMAAAArAAIAAgABAAIAAAArAAMAAgADAAIAAAArAAQAAgADAAMAAAArAAUAAgADAAIAAAArAAYAAgABAAMAAAArAAcAAgABAAMAAAArAAgAAgADAAIAAAArAAkAAgACAAIAAAArAAoAAgABAAMAAAArAAsAAgABAAIAAAArAAwAAgACAAIAAAArAA0AAgABAAMAAAArAA4AAgADAAIAAAArAA8AAgACAAIAAAArABAAAgACAAMAAAArABEAAgABAAMAAAArABIAAgACAAMAAAArABMAAgADAAIAAAArABQAAgADAAMAAAAsAAEAAgADAAMAAAAsAAIAAgACAAMAAAAsAAMAAgACAAMAAAAsAAQAAgABAAIAAAAsAAUAAgABAAIAAAAsAAYAAgADAAMAAAAsAAcAAgABAAIAAAAsAAgAAgADAAIAAAAsAAkAAgACAAMAAAAsAAoAAgACAAMAAAAsAAsAAgACAAMAAAAsAAwAAgADAAIAAAAsAA0AAgABAAMAAAAsAA4AAgACAAMAAAAsAA8AAgABAAIAAAAsABAAAgADAAMAAAAsABEAAgADAAIAAAAsABIAAgABAAMAAAAsABMAAgACAAIAAAAsABQAAgABAAIAAAA2APz/AgADAAMAAAA2AP3/AgABAAIAAAA3APz/AgACAAIAAAA3AP3/AgACAAMAAAA4APz/AgABAAIAAAA4AP3/AgABAAMAAAA5APz/AgACAAIAAAA5AP3/AgACAAIAAAA6APz/AgADAAIAAAA6AP3/AgABAAMAAAA7APz/AgABAAMAAAA7AP3/AgABAAMAAAA8APz/AgACAAIAAAA8AP3/AgADAAIAAAA9APz/AgACAAIAAAA9AP3/AgACAAIAAAA+APz/AgACAAMAAAA+AP3/AgABAAMAAAA/APz/AgADAAIAAAA/AP3/AgACAAMAAABAAPz/AgABAAIAAABAAP3/AgACAAMAAABBAPz/AgADAAIAAABBAP3/AgACAAIAAABCAPz/AgABAAMAAABCAP3/AgACAAIAAABDAPz/AgACAAIAAABDAP3/AgADAAIAAABEAPz/AgADAAMAAABEAP3/AgABAAMAAABFAPz/AgADAAIAAABFAP3/AgADAAIAAABGAPz/AgADAAMAAABGAP3/AgADAAIAAABFAPP/AgACAAMAAABFAPT/AgABAAMAAABFAPX/AgACAAIAAABFAPb/AgADAAMAAABFAPf/AgADAAIAAABFAPj/AgABAAIAAABFAPn/AgADAAIAAABFAPr/AgACAAIAAABFAPv/AgACAAMAAABGAPP/AgABAAMAAABGAPT/AgABAAMAAABGAPX/AgACAAMAAABGAPb/AgABAAIAAABGAPf/AgACAAIAAABGAPj/AgACAAIAAABGAPn/AgACAAIAAABGAPr/AgACAAIAAABGAPv/AgACAAMAAABEAPL/AgADAAMAAABFAPL/AgABAAIAAABGAPL/AgABAAIAAABEAPH/AgABAAIAAABFAPH/AgABAAMAAABDAPH/AgACAAMAAABDAPD/AgACAAMAAABCAPD/AgABAAIAAABBAPD/AgACAAIAAABAAO//AgADAAMAAAA/AO//AgABAAMAAAA+AO7/AgADAAIAAAA+AO3/AgADAAMAAAA/AO7/AgABAAIAAABAAO7/AgABAAIAAABBAO//AgABAAIAAABCAO//AgACAAMAAABEAPD/AgADAAIAAAA9AO7/AgABAAIAAAA8AO//AgADAAMAAAA7AO//AgABAAMAAAA6APD/AgADAAIAAAA5APD/AgADAAMAAAA4APH/AgACAAMAAAA3APH/AgABAAIAAAA4APD/AgABAAIAAAA6AO//AgADAAIAAAA8AO7/AgABAAMAAAA9AO3/AgACAAMAAAA7AO7/AgADAAIAAAA5AO//AgACAAMAAAA3APD/AgADAAMAAAAkAAYAAgADAAMAAAAlAAgAAgACAAIAAAAaAAcAAgABAAIAAAAaAAgAAgACAAMAAAAaAAkAAgABAAMAAAAaAAoAAgADAAIAAAAaAAsAAgABAAIAAAAaAAwAAgACAAIAAAAaAA0AAgACAAMAAAAaAA4AAgADAAIAAAAaAA8AAgACAAMAAAAbAAcAAgABAAIAAAAbAAgAAgACAAMAAAAbAAkAAgABAAIAAAAbAAoAAgABAAMAAAAbAAsAAgACAAIAAAAbAAwAAgADAAIAAAAbAA0AAgADAAMAAAAbAA4AAgACAAMAAAAbAA8AAgABAAMAAAAcAAcAAgABAAMAAAAcAAgAAgACAAIAAAAcAAkAAgADAAMAAAAcAAoAAgABAAMAAAAcAAsAAgABAAIAAAAcAAwAAgABAAMAAAAcAA0AAgABAAIAAAAcAA4AAgABAAIAAAAcAA8AAgADAAIAAAAdAAcAAgACAAMAAAAdAAgAAgABAAMAAAAdAAkAAgACAAMAAAAdAAoAAgABAAMAAAAdAAsAAgABAAMAAAAdAAwAAgACAAMAAAAdAA0AAgACAAIAAAAdAA4AAgACAAMAAAAdAA8AAgACAAMAAAAeAAcAAgADAAMAAAAeAAgAAgABAAIAAAAeAAkAAgABAAMAAAAeAAoAAgABAAIAAAAeAAsAAgACAAMAAAAeAAwAAgABAAMAAAAeAA0AAgADAAMAAAAeAA4AAgADAAMAAAAeAA8AAgADAAIAAAAfAAcAAgADAAMAAAAfAAgAAgACAAMAAAAfAAkAAgADAAIAAAAfAAoAAgACAAMAAAAfAAsAAgABAAIAAAAfAAwAAgADAAMAAAAfAA0AAgABAAIAAAAfAA4AAgABAAIAAAAfAA8AAgADAAIAAAAgAAcAAgABAAMAAAAgAAgAAgADAAMAAAAgAAkAAgADAAIAAAAgAAoAAgADAAIAAAAgAAsAAgABAAMAAAAgAAwAAgADAAMAAAAgAA0AAgADAAMAAAAgAA4AAgACAAMAAAAgAA8AAgADAAIAAAAhAAcAAgADAAIAAAAhAAgAAgACAAMAAAAhAAkAAgADAAIAAAAhAAoAAgABAAMAAAAhAAsAAgABAAIAAAAhAAwAAgABAAIAAAAhAA0AAgADAAIAAAAhAA4AAgABAAMAAAAhAA8AAgADAAMAAAAiAAcAAgACAAMAAAAiAAgAAgACAAIAAAAiAAkAAgADAAIAAAAiAAoAAgADAAIAAAAiAAsAAgABAAIAAAAiAAwAAgACAAIAAAAiAA0AAgACAAMAAAAiAA4AAgABAAMAAAAiAA8AAgABAAMAAAA2AAYAAgABAAIAAAA2AAcAAgABAAMAAAA3AAYAAgACAAIAAAA3AAcAAgACAAMAAAA4AAYAAgADAAIAAAA4AAcAAgADAAMAAAA2AAgAAgABAAIAAAA2AAkAAgABAAMAAAA3AAgAAgACAAIAAAA3AAkAAgACAAMAAAA4AAgAAgADAAIAAAA4AAkAAgADAAMAAAA2AAoAAgABAAIAAAA2AAsAAgABAAMAAAA3AAoAAgACAAIAAAA3AAsAAgACAAMAAAA4AAoAAgADAAIAAAA4AAsAAgADAAMAAAA2AAwAAgABAAIAAAA2AA0AAgABAAMAAAA3AAwAAgACAAIAAAA3AA0AAgACAAMAAAA4AAwAAgADAAIAAAA4AA0AAgADAAMAAAA2AA4AAgABAAIAAAA3AA4AAgACAAIAAAA4AA4AAgADAAIAAAA5AAYAAgABAAIAAAA5AAcAAgABAAMAAAA6AAYAAgACAAIAAAA6AAcAAgACAAMAAAA7AAYAAgADAAIAAAA7AAcAAgADAAMAAAA5AAgAAgABAAIAAAA5AAkAAgABAAMAAAA6AAgAAgACAAIAAAA6AAkAAgACAAMAAAA7AAgAAgADAAIAAAA7AAkAAgADAAMAAAA5AAoAAgABAAIAAAA5AAsAAgABAAMAAAA6AAoAAgACAAIAAAA6AAsAAgACAAMAAAA7AAoAAgADAAIAAAA7AAsAAgADAAMAAAA5AAwAAgABAAIAAAA5AA0AAgABAAMAAAA6AAwAAgACAAIAAAA6AA0AAgACAAMAAAA7AAwAAgADAAIAAAA7AA0AAgADAAMAAAA5AA4AAgABAAIAAAA6AA4AAgACAAIAAAA7AA4AAgADAAIAAAA8AAYAAgABAAIAAAA8AAcAAgABAAMAAAA9AAYAAgACAAIAAAA9AAcAAgACAAMAAAA8AAgAAgABAAIAAAA8AAkAAgABAAMAAAA9AAgAAgACAAIAAAA9AAkAAgACAAMAAAA8AAoAAgABAAIAAAA8AAsAAgABAAMAAAA9AAoAAgACAAIAAAA9AAsAAgACAAMAAAA8AAwAAgABAAIAAAA8AA0AAgABAAMAAAA9AAwAAgACAAIAAAA9AA0AAgACAAMAAAA8AA4AAgABAAIAAAA9AA4AAgACAAIAAABBAAkAAgABAAIAAABBAAoAAgABAAMAAABCAAkAAgACAAIAAABCAAoAAgACAAMAAABDAAkAAgADAAIAAABDAAoAAgADAAMAAABBAAwAAgABAAIAAABBAA0AAgABAAMAAABCAAwAAgACAAIAAABCAA0AAgACAAMAAABDAAwAAgADAAIAAABDAA0AAgADAAMAAAA/AA8AAgABAAIAAAA/ABAAAgABAAMAAABAAA8AAgACAAIAAABAABAAAgACAAMAAABBAA8AAgADAAIAAABBABAAAgADAAMAAAA/AAoAAgABAAMAAAA/AAsAAgACAAIAAAA/AAwAAgACAAIAAAAzAAoAAgAAAAMAACAzAAsAAgAAAAIAAAAzAAwAAgAAAAIAAAAzAA0AAgAAAAMAAAA=")
tile_set = ExtResource("8_7d7pp")
script = ExtResource("9_njy47")
mask_number = 1

[node name="PlayerCharacter" parent="." unique_id=614979792 instance=ExtResource("1_7d7pp")]
unique_name_in_owner = true
position = Vector2(-88, -24)
initial_num_masks = 0

[node name="ExitDoor" parent="." unique_id=45997899 instance=ExtResource("2_e5nfq")]
z_index = -1
position = Vector2(512, -32)

[node name="CameraFollow" parent="." unique_id=467601528 node_paths=PackedStringArray("following") instance=ExtResource("3_lha2r")]
limit_left = -320
limit_bottom = 193
limit_smoothed = true
editor_draw_limits = true
following = NodePath("../PlayerCharacter")
follow_speed = 20

[node name="EffectsLayer" type="CanvasLayer" parent="CameraFollow" unique_id=1087320890]

[node name="DeathSpotlight" type="ColorRect" parent="CameraFollow/EffectsLayer" unique_id=1096391294]
material = SubResource("ShaderMaterial_5a7mx")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("5_n5pya")

[node name="EffectsAnimator" type="AnimationPlayer" parent="CameraFollow/EffectsLayer" unique_id=1816478192]
unique_name_in_owner = true
root_node = NodePath("../DeathSpotlight")
libraries/ = SubResource("AnimationLibrary_nendb")

[node name="GameUi" parent="CameraFollow/EffectsLayer" unique_id=1129233128 node_paths=PackedStringArray("player_character") instance=ExtResource("6_kypp1")]
player_character = NodePath("../../../PlayerCharacter")

[node name="MultiMaskedTileMap2" type="Node2D" parent="." unique_id=91757302 node_paths=PackedStringArray("player")]
script = ExtResource("7_ukjja")
player = NodePath("../PlayerCharacter")

[node name="DeathPlane" type="Area2D" parent="." unique_id=20074737]

[node name="CollisionShape2D" type="CollisionShape2D" parent="DeathPlane" unique_id=917751410]
shape = SubResource("WorldBoundaryShape2D_6v23s")

[node name="MaskPickupArlecchino" parent="." unique_id=678487700 instance=ExtResource("10_e5nfq")]
position = Vector2(269, -20)

[connection signal="death" from="PlayerCharacter" to="CameraFollow/EffectsLayer/DeathSpotlight" method="_on_player_character_death"]
[connection signal="player_reached_exit" from="ExitDoor" to="PlayerCharacter" method="_on_exit_door_player_reached_exit"]
[connection signal="player_reached_exit" from="ExitDoor" to="CameraFollow/EffectsLayer/DeathSpotlight" method="_on_exit_door_player_reached_exit"]
[connection signal="body_entered" from="DeathPlane" to="PlayerCharacter" method="_on_death_plane_body_entered"]
[connection signal="got_mask" from="MaskPickupArlecchino" to="PlayerCharacter" method="_on_mask_pickup_got_mask"]
